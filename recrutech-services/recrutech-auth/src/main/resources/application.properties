spring.application.name=recrutech-auth

# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/recrutech
spring.datasource.username=recrutech_user
spring.datasource.password=recrutech_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# MySQL Boolean Mapping Fix - Use TINYINT for boolean fields instead of BIT
spring.jpa.properties.hibernate.type.preferred_boolean_jdbc_type=TINYINT
spring.jpa.properties.hibernate.dialect.storage_engine=innodb

# Liquibase Configuration
spring.liquibase.change-log=classpath:db.changelog/liquibase-changelog.xml

# JWT Configuration (High Security)
jwt.secret=j8IQhc0k20n3t3B8a/0/Kl1aGic4R7GVUIWJ3Zyz5WNLnKBDJs6HVA0LWwHuBcb5v4k6k43U7RZ63JMNxeGhDA==
jwt.access-token-validity=900000
jwt.refresh-token-validity=604800000
jwt.issuer=recrutech

# JWT Key Rotation Configuration
jwt.rotation.enabled=true
jwt.rotation.interval-hours=168
jwt.rotation.overlap-hours=24
jwt.rotation.max-keys=3

# Environment-based Secret Override (use environment variables in production)
# JWT_SECRET_PRIMARY=<primary-secret-from-env>
# JWT_SECRET_SECONDARY=<secondary-secret-from-env>
# JWT_SECRET_TERTIARY=<tertiary-secret-from-env>

# Redis Configuration for Session Management and Caching
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# Security Configuration
security.rate-limit.max-attempts=5
security.rate-limit.time-window=900
security.account-lockout.duration=30
security.password-expiry-days=90

# Server Configuration
server.port=8081
server.servlet.context-path=/
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict

# Logging Configuration
logging.level.com.recrutech.recrutechauth.security=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN

# Management and Health Check
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
